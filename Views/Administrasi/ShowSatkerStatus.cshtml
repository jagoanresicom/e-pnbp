@model  Pnbp.Entities.SatkerAlokasi
@{ 
    Layout = null;
    
    var lsstatus = new List<SelectListItem>();
    lsstatus.Add(new SelectListItem { Text = "Aktif", Value = "Aktif" });
    lsstatus.Add(new SelectListItem { Text = "Tidak Aktif", Value = "Tidak Aktif" });
 }
<style type="text/css">
    .x_panel; {
        border: none;
    }
</style>

<script src='@Url.Content("~/resources/js/jquery.validate.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/resources/js/jquery.validate.unobtrusive.min.js")' type="text/javascript"></script>

<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header" style="text-align:left;">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="btnclosemodal">×</button>
            <h2 class="modal-title" id="myModalLabel">Update Status Satker</h2>
        </div>
        <div class="x_panel" style="border:0px;">
            <div class="x_content">
                <form class="form-horizontal form-label-left" method="post" id="frmubahstatus">
                    @Html.HiddenFor(model => model.Kantorid, new { id = "satkerid" })
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Kode Satker :</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(model => model.Kodesatker, new { @class = "form-control", @id = "txtkdsatker", @readonly = "readonly" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Nama Satker :</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(model => model.Namasatker, new { @class = "form-control", @id = "txtsatker", @readonly="readonly" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Nilai Anggaran :</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(model => model.Anggaransatker, new { @class = "form-control", @id = "txtanggaran", @readonly = "readonly" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Nilai Alokasi :</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(model => model.Alokasisatker, new { @class = "form-control", @id = "txtalokasi", @readonly = "readonly" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Status Aktif :</label>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.DropDownListFor(model => model.Statusaktif, lsstatus, new { @class = "select2_single form-control input-md", @style = "width:100%", @id = "cmbstatussatker" })
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            @*<button type="submit" id="btnsimpanstatus" form="frmubahstatus" class="btn btn-primary"> Simpan </button>*@
            <button type="button" id="btnsimpanstatus" class="btn btn-primary"> Simpan </button>
            <button type="button" id="btncancelmodal" class="btn btn-primary"> Cancel </button>
        </div>  
    </div>
</div>

<script type="text/javascript">
    function closemodel() { $('#myModal').hide(); $('#myModalContent').html(''); };

    $("#btnclosemodal, #btncancelmodal").click(function (e) { closemodel(); });

    $('#btnsimpanstatus').click(function () {
        var pData = $('#frmubahstatus').serialize();
        $.ajax({
            type: 'POST',
            url: '@Url.Action("UpdateStatus", "Administrasi")',
            data: pData,
            success: function (data, textStatus, XMLHttpRequest) {
                if (!data.Status) {
                    showmsg('Status', 'Tidak ada data yang ditemukan');
                    $.unblockUI();
                }
                else {
                    $('#listsatkerholder').html(data.Pesan);
                    closemodel();
                    $.unblockUI();
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                console.log(errorThrown);
                $.unblockUI();
            }
        });
    });
</script>