(function(a){var b=function(d,c){var e=this;e.options=d;e.$element=a(c);var f=e.$element.val();e.$element.removeAttr("multiple");e.select2=e.$element.select2({allowClear:true,minimumResultsForSearch:-1,placeholder:d.placeholder,closeOnSelect:false,templateSelection:function(){return e.options.templateSelection(e.$element.val()||[],a("option",e.$element).length,e.$element)},templateResult:function(g){if(g.loading!==undefined){return g.text}return a("<div>").text(g.text).addClass(e.options.wrapClass)}}).data("select2");e.select2.$results.off("mouseup").on("mouseup",".select2-results__option[aria-selected]",(function(g){return function(j){var h=a(this);var i=h.data("data");if(h.attr("aria-selected")==="true"){g.trigger("unselect",{originalEvent:j,data:i});return}g.trigger("select",{originalEvent:j,data:i})}})(e.select2));e.$element.attr("multiple","multiple").val(f).trigger("change.select2")};a.fn.extend({select2MultiCheckboxes:function(){var c=a.extend({placeholder:"Choose elements",templateSelection:function(d,e){return d.length+" > "+e+" total"},wrapClass:"wrap"},arguments[0]);this.each(function(){new b(c,this)})}})})(jQuery);